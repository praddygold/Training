@model Pradeep.MVVM.ViewModelLayer.ProductViewModel
@{    
    ViewData["Title"] = "Products";
}

<h1>Products</h1>
<form method="post">
    <partial name="~/Views/Shared/_StandardViewModelHidden.cshtml" />
    <partial name="_ProductSearch.cshtml" />
    <partial name="_ProductList" />
</form>

@section Scripts 
{  
  <script>
    $(document).ready(function () {
        // Connect to any elements that have 'data-custom-cmd'
        $("[data-custom-cmd]").on("click", function (event) {
            event.preventDefault();
            
            // Fill in the 'command' to post back to view model
            $("#EventCommand").val($(this).data("custom-cmd"));
            
            // Fill in arguments to post back to view model
            $("#EventArgument").val($(this).data("custom-arg"));
            
            // Only set sort variables if command was "sort"      
        if($("#EventCommand").val() == "sort") {  
            // Get the new sort expression  
            $("#SortExpression").val($(this).data("custom-arg"));
        }
            // Submit form
            $("form").submit();
        });
    });  
  </script>
}